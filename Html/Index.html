
<!doctype html>
<html lang="en">
<title> Chessboard </title>
<head>

	<link rel="stylesheet" href="css/bootstrap_blue.css">
	<link rel="stylesheet" href="css/styles.css">

  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>


</head>
<body>


	<nav class="navbar navbar-default">
    <div class="container-fluid">
  
      <!-- start collapsed navbar-->
      <div class="navbar-header">
        <button 
        type="button" 
        class="navbar-toggle collapsed" 
        data-toggle="collapse" 
        data-target="#main_navbar" 
        aria-expanded="false">
        <div class="icon"></div>
        <div class="icon"></div>
        <div class="icon"></div>
        </button>
      </div><!-- / collapsed navbar-->

      <!-- start un-collapsed navbar-->
      <div 
         class="collapse navbar-collapse" 
         id="main_navbar">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#">Home</a></li>
          <li><a href="#">Contact</a></li>
          <li><a href="#">About</a></li>
        </ul>
      </div><!-- / un-collapsed navbar-->

    </div> <!-- /container -->
  </nav>

    <div class="container">
      <h1>Hello welcome to my Chessboard!</h1>

      <!-- start breadcrumb -->
      <ol class="breadcrumb">
        <li><a href="index.html">Home</a></li>
      </ol>
      <!-- / breadcrumb -->

    </div>
    <div class="container">
    <div class="row">
    	<div class="col-md-4">		
    			<div class="cus-input">
    				<h2>Select your Chessboard piece:</h2><br>
              <div class="form-group">
                <label for="sel1"></label>
                  <select class="form-control" id="chess-piece">
                    <option value="&#9813">King</option>
                    <option value="&#9812">Queen</option>
                    <option value="&#9816">Knight</option>
                    <option value="&#9815">Bishop</option>
                    <option value="&#9814">Rook</option>
                    <option value="&#9817">Pawn</option>
                  </select>
              </div>
            <h2>Select the points</h2><br>
              <div class="form-group">
                <label for="usr"><h5>First point:  (eg: A4)</h5></label>
                  <input type="text" class="form-control" id="fstpt" style="width: 100px">
                <label for="usr"><h5>Second point: (eg: C6)</h5></label>
                  <input type="text" class="form-control" id="sndpt" style="width: 100px">
              </div>
            <button type="button" class="btn btn-primary" id="Sub_btn">Submit</button>

            <!-- Button visible after clicking submit -->
            <div class="chess-btn">
              <button type="button" class="btn btn-primary" id="Run_btn">RUN</button>
            </div>

            <div class="chess-btn">
              <button type="button" class="btn btn-danger" id="clear-btn">CLEAR</button>
            </div>

            <div class="result"></div>   <!-- For priting the final path -->
                
    			</div>
        </div>
      <div class="col-md-8">
    			 <div class="chessboard">
              <!-- 1st -->
              <div class="pos">8</div>
              <div class="white"><div class="icons" id="18">&#9820;</div></div>
              <div class="black"><div class="icons" id="28">&#9822;</div></div>
              <div class="white"><div class="icons" id="38">&#9821;</div></div>
              <div class="black"><div class="icons" id="48">&#9819;</div></div>
              <div class="white"><div class="icons" id="58">&#9818;</div></div>
              <div class="black"><div class="icons" id="68">&#9821;</div></div>
              <div class="white"><div class="icons" id="78">&#9822;</div></div>
              <div class="black"><div class="icons" id="88">&#9820;</div></div>
              
              <!-- 2nd -->
              <div class="pos">7</div>
              <div class="black"><div class="icons" id="17">&#9823;</div></div>
              <div class="white"><div class="icons" id="27">&#9823;</div></div>
              <div class="black"><div class="icons" id="37">&#9823;</div></div>
              <div class="white"><div class="icons" id="47">&#9823;</div></div>
              <div class="black"><div class="icons" id="57">&#9823;</div></div>
              <div class="white"><div class="icons" id="67">&#9823;</div></div>
              <div class="black"><div class="icons" id="77">&#9823;</div></div>
              <div class="white"><div class="icons" id="87">&#9823;</div></div>
              
              <!-- 3th -->
              <div class="pos">6</div>
              <div class="white"><div class="icons" id="16"></div></div>
              <div class="black"><div class="icons" id="26"></div></div>
              <div class="white"><div class="icons" id="36"></div></div>
              <div class="black"><div class="icons" id="46"></div></div>
              <div class="white"><div class="icons" id="56"></div></div>
              <div class="black"><div class="icons" id="66"></div></div>
              <div class="white"><div class="icons" id="76"></div></div>
              <div class="black"><div class="icons" id="86"></div></div>
              
              <!-- 4st -->
              <div class="pos">5</div>
              <div class="black"><div class="icons" id="15"></div></div>
              <div class="white"><div class="icons" id="25"></div></div>
              <div class="black"><div class="icons" id="35"></div></div>
              <div class="white"><div class="icons" id="45"></div></div>
              <div class="black"><div class="icons" id="55"></div></div>
              <div class="white"><div class="icons" id="65"></div></div>
              <div class="black"><div class="icons" id="75"></div></div>
              <div class="white"><div class="icons" id="85"></div></div>
              
              <!-- 5th -->
              <div class="pos">4</div>
              <div class="white"><div class="icons" id="14"></div></div>
              <div class="black"><div class="icons" id="24"></div></div>
              <div class="white"><div class="icons" id="34"></div></div>
              <div class="black"><div class="icons" id="44"></div></div>
              <div class="white"><div class="icons" id="54"></div></div>
              <div class="black"><div class="icons" id="64"></div></div>
              <div class="white"><div class="icons" id="74"></div></div>
              <div class="black"><div class="icons" id="84"></div></div>
              
              <!-- 6th -->
              <div class="pos">3</div>
              <div class="black"><div class="icons" id="13"></div></div>
              <div class="white"><div class="icons" id="23"></div></div>
              <div class="black"><div class="icons" id="33"></div></div>
              <div class="white"><div class="icons" id="43"></div></div>
              <div class="black"><div class="icons" id="53"></div></div>
              <div class="white"><div class="icons" id="63"></div></div>
              <div class="black"><div class="icons" id="73"></div></div>
              <div class="white"><div class="icons" id="83"></div></div>
              

              <!-- 7th -->
              <div class="pos">2</div>
              <div class="white"><div class="icons" id="12">&#9817;</div></div>
              <div class="black"><div class="icons" id="22">&#9817;</div></div>
              <div class="white"><div class="icons" id="32">&#9817;</div></div>
              <div class="black"><div class="icons" id="42">&#9817;</div></div>
              <div class="white"><div class="icons" id="52">&#9817;</div></div>
              <div class="black"><div class="icons" id="62">&#9817;</div></div>
              <div class="white"><div class="icons" id="72">&#9817;</div></div>
              <div class="black"><div class="icons" id="82">&#9817;</div></div>
              

              <!-- 8th -->
              <div class="pos">1</div>
              <div class="black"><div class="icons" id="11">&#9814;</div></div>
              <div class="white"><div class="icons" id="21">&#9816;</div></div>
              <div class="black"><div class="icons" id="31">&#9815;</div></div>
              <div class="white"><div class="icons" id="41">&#9813;</div></div>
              <div class="black"><div class="icons" id="51">&#9812;</div></div>
              <div class="white"><div class="icons" id="61">&#9815;</div></div>
              <div class="black"><div class="icons" id="71">&#9816;</div></div>
              <div class="white"><div class="icons" id="81">&#9814;</div></div>
              

              <!-- 9th col for numbers -->
              <div class="pos_num"></div>
              <div class="pos_num">A</div>
              <div class="pos_num">B</div>
              <div class="pos_num">C</div>
              <div class="pos_num">D</div>
              <div class="pos_num">E</div>
              <div class="pos_num">F</div>
              <div class="pos_num">G</div>
              <div class="pos_num">H</div>

              </div>
          </div>
          </div>
        </div>


<script type="text/javascript">

  var firstpt_low;
  var secondpt_low;
  var piece;
  var pie;
  var flag = 0;
  var steps=[];
  var chartopts = {"a":1, "b":2, "c":3, "d":4, "e":5, "f":6, "g":7, "h":8};

  function clear(){
    /*$(".white").html("");
    $(".black").html("");**/
    $(".icons").html("");
  }
  
  $("#Sub_btn").click(function(){
    clear();

    var firstpt = $("#fstpt").val();
    var secondpt = $("#sndpt").val();

    firstpt_low = firstpt.toLowerCase();
    secondpt_low = secondpt.toLowerCase();

    console.log(firstpt_low.charAt(0) > 'h');
    console.log(firstpt_low.charAt(0) < 'a');
    console.log(firstpt_low.charAt(1) < '1');
    console.log(firstpt_low.charAt(1) > '8');
  
    //var pie = {King:"&#9813", Queen:"&#9812", Knight:"&#9816", Bishop:"&#9815", Rook:"&#9814", Pawn:"&#9817"};
    if(((firstpt_low.charAt(0) > 'h' || ('a' > firstpt_low.charAt(0)) || (firstpt_low.charAt(1) > '8') || '1' > firstpt_low.charAt(1))))
    {
      alert("Invalid first point. Try again.");
      flag = 1;
    }

    if(((secondpt_low.charAt(0) > 'h' || ('a' > secondpt_low.charAt(0)) || (secondpt_low.charAt(1) > '8') || '1' > secondpt_low.charAt(1))))
    {
      alert("Invalid second point. Try again.");
      flag  = 1;
    }
	
	var x,y;
	var pts = firstpt_low.split("");
	x = chartopts[pts[0]];
	y = pts[1];
	console.log(x+y);
    piece = document.getElementById("chess-piece");
    pie = piece.value;
    $("#"+x+y).html(pie);
  })

  $("#clear-btn").click(function(){
    clear();
	steps=[];
  })

  function compute_pawn(pts1, pts2){
	var x1=0, y1=0, x2=0, y2=0;
    console.log(pts1, pts2);
    var pawnpts1 = pts1.split("");
    var pawnpts2 = pts2.split("");
    console.log(pawnpts1[0], pawnpts2[0], pawnpts1[1], pawnpts2[1]);
     x1 = chartopts[pawnpts1[0]];
     y1 = parseInt(pawnpts1[1]);
     x2 = chartopts[pawnpts2[0]];
     y2 = parseInt(pawnpts2[1]); 
    console.log(x1);
    console.log(y1);
    console.log(x2);
    console.log(y2);
	
	if(x1 != x2 || y2 < y1)
	{
		alert("Path not possible.");
	}
	while(y1 <= y2)
	{
		console.log(x1.toString()+y1.toString());
		steps.push(x1.toString()+y1.toString());
		y1 = y1 + 1;
	}
	console.log(steps);


  }

  $("#Run_btn").click(function(){
     var pts1 = firstpt_low;
     var pts2 = secondpt_low;
     console.log(pie);
     switch(pie)
     {
        case "King": steps = compute_king(pts1, pts2);
                             break;
        case "Queen": steps = compute_queen(pts1, pts2);
                              break;
        case "Knight": steps = compute_knight(pts1, pts2);
                              break;
        case "Bishop": steps = compute_bishop(pts1, pts2);
                              break;
        case "Rook": steps = compute_rook(pts1, pts2);
                              break;
        case "♙": console.log("Hello");
				  compute_pawn(pts1, pts2); 
				  break;
        default : console.log("Default");
		          break;

     }
	 
	 
    
     for(i = 0; i < steps.length - 1; ++i)
     {
      $("#"+steps[i]).fadeOut("slow", function(){
		$("#"+steps[i+1]).html(pie)
	  });
      
     }
	 
	 
  })

</script>


</body>
</html>
	